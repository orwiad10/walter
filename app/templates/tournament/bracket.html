{% extends 'base.html' %}
{% block content %}
<p><a href="{{ url_for('view_tournament', tid=t.id) }}">Back to Tournament</a></p>
<h2>{{ t.name }} Bracket</h2>
<button class="btn" onclick="window.print()">Print</button>
<div class="bracket">
  {% for r in rounds %}
  <div class="round">
    {% for m in r.matches|sort(attribute='table_number') %}
    <div class="match">
        <div class="player">
          {{ m.player1.user.name }} ({{ points[m.player1_id] }})
          {% if m.completed %}- {{ m.result.player1_wins }}{% endif %}
        </div>
      {% if m.player2_id %}
        <div class="player">
          {{ m.player2.user.name }} ({{ points[m.player2_id] }})
          {% if m.completed %}- {{ m.result.player2_wins }}{% endif %}
        </div>
      {% else %}
      <div class="player bye">BYE</div>
      {% endif %}
    </div>
    {% endfor %}
  </div>
  {% endfor %}
</div>
{% endblock %}

